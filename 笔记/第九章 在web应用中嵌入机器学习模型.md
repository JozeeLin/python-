# 第九章 在web应用中嵌入机器学习模型

机器学习技术并不仅仅局限于离线应用和分析，它们也可以称为web服务的预测引擎。本章我们将学习如何将机器学习模型嵌入到web应用中，不仅仅是分类，还包括从实时数据中学习。涵盖如下主题:

- 保存训练后的机器学习模型的状态
- 使用SQLite数据库存储数据
- 使用Flask框架开发web应用程序
- 在公共web服务器上部署机器学习应用

## 序列化通过sklearn拟合的模型

模型持久化的一个方法就是使用python内嵌的pickle模块，它使得我们可以在python对象与字节码之间进行转换(序列化与反序列化)，这样就可以将分类器的当前的状态保存下来。当需要对新的样本进行分类时，可以直接加载已保存的分类器，而不必再次通过训练数据对模型进行训练。

> 请注意,由于pickle模块未对恶意代码进行防范，因此对从不受信任渠道获得的数据进行持久化操作可能会具有潜在的安全风险。

## 使用SQLite数据库存储数据

创建一个简单的SQLite数据库以收集web应用的用户对于预测结果的反馈。基于这些反馈，我们可以对分类模型进行更新。

SQLIte是一款开源的SQL数据库引擎。无需运行单独的服务器。因此称为小型项目和简单的web应用的理想选择。从本质上来说，SQLite数据库可以看作是一个单一的、自包含(不依赖于其他模块与组件)的数据库文件，它允许我们直接访问存储文件。跨操作系统。